package com.example.demo;

import static org.junit.jupiter.api.Assertions.assertEquals;

import java.util.Arrays;
import java.util.Collection;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.DynamicTest;
import org.junit.jupiter.api.Nested;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.TestFactory;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class TestFactoryApplicationTests {
    
	@Nested
	   class Test1
	   {
		@BeforeEach
        void beforeEach() {
            System.out.println("1st Test class");
        }
		
		public void testEqualNum()
		{
			assertEquals(2,2);
		}
		
		@TestFactory
		Collection<DynamicTest> dynamicTestsWithCollection() {
		    return Arrays.asList(
		      DynamicTest.dynamicTest("Add test",
		        () -> assertEquals(2, Math.addExact(1, 1))),
		      DynamicTest.dynamicTest("Multiply Test",
		        () -> assertEquals(4, Math.multiplyExact(2, 2))),
		      DynamicTest.dynamicTest("check Boolean value",
		         () -> assertEquals(true,true)));
		}
	   }
	  
	@Nested
	   class Test2
	   {
		@BeforeEach
        void beforeEach() {
            System.out.println("2nd Test class");
        }
		
		@Test
		public void print1()
		{
			assertEquals(2,2);
		}
	   }
}
